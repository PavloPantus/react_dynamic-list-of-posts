{"version":3,"sources":["api/getDataFromUrl.js","api/postsUrl.js","api/usersUrl.js","api/commentsUrl.js","PostList/Post/PostAuthorInfo.js","PostList/Post/CommentList/Comment/Comment.js","PostList/Post/CommentList/CommentList.js","PostList/Post/Post.js","PostList/PostList.js","App.js","index.js"],"names":["getDataFromUrl","url","defaultData","responsePromise","data","regenerator_default","a","async","_context","prev","next","awrap","fetch","sent","ok","json","abrupt","stop","postsUrl","usersUrl","commentsUrl","PostAuthorInfo","_ref","postAuthor","react_default","createElement","className","name","email","address","street","suite","city","zipcode","Comment","singleComment","body","CommentList","comments","map","comment","CommentList_Comment_Comment","key","id","Post","singlePost","searchQuery","getHighlightedText","text","textToHighLight","formatedText","replace","length","regular","RegExp","concat","split","part","index","toString","Fragment","title","Post_PostAuthorInfo","author","Post_CommentList_CommentList","defaultProps","PostList","_useState","useState","_useState2","Object","slicedToArray","preparedPosts","setPreparedPosts","_useState3","_useState4","isLoadingPosts","setIsLoadingPosts","_useState5","_useState6","isLoadedPosts","setIsLoadedPosts","_useState7","_useState8","setSearchQuery","getPreparedPostsFromServer","_ref2","posts","users","Promise","all","post","objectSpread2","find","user","userId","filter","postId","debouncedHandleInputChange","func","delay","timer","clearTimeout","_len","arguments","args","Array","_key","setTimeout","apply","debounce","trim","toLowerCase","type","onChange","event","target","value","placeholder","includes","PostList_Post_Post","onClick","_context2","t0","t1","App","PostList_PostList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.316a2c5e.chunk.js","sourcesContent":["const getDataFromUrl = async(url, defaultData) => {\n  const responsePromise = await fetch(url);\n\n  if (responsePromise.ok) {\n    const data = await responsePromise.json();\n\n    return data;\n  }\n\n  return defaultData;\n};\n\nexport default getDataFromUrl;\n","const postsUrl = 'https://jsonplaceholder.typicode.com/posts/';\n\nexport default postsUrl;\n","const usersUrl = 'https://jsonplaceholder.typicode.com/users';\n\nexport default usersUrl;\n","const commentsUrl = 'https://jsonplaceholder.typicode.com/comments';\n\nexport default commentsUrl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PostAuthorInfo = ({ postAuthor }) => (\n\n  <div className=\"post__author-info\">\n\n    <h3 className=\"author-info__name\">{postAuthor.name}</h3>\n    <p className=\"author-info__email\">{postAuthor.email}</p>\n    <p className=\"author-info__address\">\n        street:\n      {' '}\n      {postAuthor.address.street}\n      <br />\n        suite:\n      {' '}\n      {postAuthor.address.suite}\n      <br />\n        city:\n      {' '}\n      {postAuthor.address.city}\n      <br />\n        zipcode:\n      {' '}\n      {postAuthor.address.zipcode}\n    </p>\n\n  </div>\n\n);\n\nPostAuthorInfo.propTypes = {\n  postAuthor: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    address: PropTypes.object,\n  }).isRequired,\n\n};\n\nexport default PostAuthorInfo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Comment = ({ singleComment }) => (\n  <li className=\"comment\">\n    <div className=\"comment__author-info\">\n      {singleComment.name}\n      <br />\n      {singleComment.email}\n    </div>\n    <div className=\"comment__body\">\n      {singleComment.body}\n    </div>\n  </li>\n);\n\nComment.propTypes = {\n  singleComment: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    body: PropTypes.string,\n  }).isRequired,\n};\n\nexport default Comment;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from './Comment/Comment';\n\nconst CommentList = ({ comments }) => (\n  <ul className=\"post__comments\">\n    {comments.map(\n      comment => <Comment key={comment.id} singleComment={comment} />\n    )}\n  </ul>\n);\n\nCommentList.propTypes = {\n  comments: PropTypes.arrayOf(\n    PropTypes.object,\n  ).isRequired,\n};\n\nexport default CommentList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PostAuthorInfo from './PostAuthorInfo';\nimport CommentList from './CommentList/CommentList';\n\nconst Post = ({ singlePost, searchQuery }) => {\n  const getHighlightedText = (text, textToHighLight) => {\n    const formatedText = text.replace(/[\\n\\r]/g, ' ');\n\n    if (textToHighLight.length === 0) {\n      return <span>{formatedText}</span>;\n    }\n\n    const regular = new RegExp(`(${textToHighLight})`, 'gi');\n\n    return (\n      <span>\n        {formatedText.split(regular).map(\n          (part, index) => (part === textToHighLight\n            ? (\n              <span\n                key={part + index.toString()}\n                className=\"highlighted\"\n              >\n                {part}\n              </span>\n            )\n            : part)\n        )}\n      </span>\n    );\n  };\n\n  return (\n    <>\n      <article className=\"post\">\n        <h1 className=\"post__title\">\n          {getHighlightedText(singlePost.title, searchQuery)}\n        </h1>\n        <h2 className=\"post__body\">\n          {getHighlightedText(singlePost.body, searchQuery)}\n        </h2>\n        <PostAuthorInfo postAuthor={singlePost.author} />\n        <CommentList comments={singlePost.comments} />\n      </article>\n    </>\n  );\n};\n\nPost.propTypes = {\n  singlePost: PropTypes.shape({\n    title: PropTypes.string,\n    body: PropTypes.string,\n    author: PropTypes.object,\n    comments: PropTypes.array,\n  }).isRequired,\n  searchQuery: PropTypes.string,\n};\n\nPost.defaultProps = {\n  searchQuery: '',\n};\n\nexport default Post;\n","import React, { useState } from 'react';\nimport getDataFromUrl from '../api/getDataFromUrl';\nimport postsUrl from '../api/postsUrl';\nimport usersUrl from '../api/usersUrl';\nimport commentsUrl from '../api/commentsUrl';\nimport Post from './Post/Post';\n\nfunction PostList() {\n  const [preparedPosts, setPreparedPosts] = useState([]);\n  const [isLoadingPosts, setIsLoadingPosts] = useState(false);\n  const [isLoadedPosts, setIsLoadedPosts] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const getPreparedPostsFromServer = async() => {\n    const [posts, users, comments] = await Promise.all(\n      [getDataFromUrl(postsUrl, []),\n        getDataFromUrl(usersUrl, []),\n        getDataFromUrl(commentsUrl, [])]\n    );\n\n    return posts.map(\n      post => ({\n        ...post,\n        author: users.find(\n          user => user.id === post.userId\n        ),\n        comments: comments.filter(\n          comment => comment.postId === post.id\n        ),\n      })\n    );\n  };\n\n  const handleInputChange = (text) => {\n    setSearchQuery(text.trim().toLowerCase());\n  };\n\n  const debounce = (func, delay) => {\n    let timer;\n\n    return (...args) => {\n      clearTimeout(timer);\n      timer = setTimeout(func, delay, ...args);\n    };\n  };\n\n  const debouncedHandleInputChange = debounce(handleInputChange, 1000);\n\n  return (\n    isLoadedPosts\n      ? (\n        <section className=\"posts\">\n          <input\n            type=\"text\"\n            name=\"searchInPosts\"\n            className=\"input input_search-in-posts\"\n            onChange={event => debouncedHandleInputChange(event.target.value)}\n            placeholder=\"type for searching\"\n          />\n\n          <ul className=\"posts-list\">\n\n            {preparedPosts\n              .filter(\n                post => (\n                  (post.title + post.body).replace(/[\\n\\r]/g, ' ')\n                    .toLowerCase().includes(searchQuery)\n                )\n              )\n              .map(\n                post => (\n                  <li key={post.id} className=\"post-list__item\">\n                    <Post searchQuery={searchQuery} singlePost={post} />\n                  </li>\n                )\n              )\n            }\n          </ul>\n        </section>\n      )\n      : (\n        <button\n          type=\"button\"\n          onClick={\n            async() => {\n              setIsLoadingPosts(true);\n              setPreparedPosts(await getPreparedPostsFromServer());\n              setIsLoadedPosts(true);\n            }\n          }\n        >\n          {isLoadingPosts ? 'Loading' : 'Load the List of Posts'}\n        </button>\n      )\n\n  );\n}\n\nexport default PostList;\n","import React from 'react';\nimport PostList from './PostList/PostList';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n\n      <h1 className=\"app-heading\">Dynamic list of posts</h1>\n      <PostList />\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}